(()=>{"use strict";class e{constructor(e,t){var s=document.createElement(e);return Object.keys(t||{}).forEach((e=>{var n=t[e];"html"!=e?"events"!=e?"class"!=e||s.classList.add(n):Object.keys(n).forEach((e=>{s.addEventListener(e,n[e])})):s.innerHTML=n})),s}}class t{constructor(t){this._container=t instanceof HTMLElement?t:document.getElementById(t),this._element=new e("div",{class:"graph-root"}),this._container.appendChild(this._element)}static render(e){return new t(e)}addNode(e){this._nodes||(this._nodes=[]);var t=new s(this,e);return this._nodes.push(t),t}addTemplate(e,t){return this._templates||(this._templates={}),this._templates[e]=t,this}add(e,t){var s=t||this;this._templates[e](s)}addNodeAt(e,t){this._nodes||(this._nodes=[]);var n=new s(this,t);return this._nodes.splice(e,(0)[n]),n}getElement(){return this._element}}class s{constructor(t,s){this._parent=t,this._element=new e("div",{class:"graph-node"}),this._parent.getElement().appendChild(this._element),Object.keys(s).forEach((e=>{var t=s[e];"elements"===e&&t.forEach((e=>{this._element.appendChild(e)})),"class"!=e||this._element.classList.add(t)}))}addClass(e){this._element.classList.add(e)}getParent(){return this.parent||null}getElement(){return this._element}addNode(e){this._nodes||(this._nodes=[]);var t=new s(this,e);return this._nodes.push(t),t}addNodeAt(e,t){this._nodes||(this._nodes=[]);var n=new s(this,t);return this._nodes.splice(e,(0)[n]),n}}var n=new t("survey-builder");n.addTemplate("section-placeholder",(function(t){t.addNode({class:"empty-node",elements:[new e("button",{html:"Add Section",events:{click:function(){t.add("section"),placehoder.addClass("hidden")}}})]})})),n.addTemplate("section",(function(t){t.addNodeAt(0,{class:"section-node",elements:[new e("p",{html:"Section Name"})]}),n.add("section-placeholder",t)})),n.add("section-placeholder")})();